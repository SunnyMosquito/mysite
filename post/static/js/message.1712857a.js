(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["message"],{"1f13":function(s,t,e){"use strict";var a=e("5f5a"),n=e.n(a);n.a},"5f5a":function(s,t,e){},c6f6:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"message"},[e("app-header"),e("div",{staticClass:"content wrap"},[e("section",{staticClass:"page"},[e("h2",{staticClass:"title"},[s._v("说些什么")]),s.messages.length<1?e("h3",[s._v("什么也没有...")]):s._e(),s._l(s.messages,function(t,a){return e("div",{key:a,staticClass:"item"},[e("b",[s._v(s._s(t.nickname)+"：")]),e("p",[s._v(s._s(t.content))]),e("i",[s._v("——"+s._s(t.pub_date))])])})],2)]),e("comment-form",{attrs:{"submit-name":"留言"},on:{submitContent:s.submitContent}}),e("app-footer")],1)},n=[],i=(e("a481"),e("418b")),c=e("e870"),o=e("b159"),r={name:"message",data:function(){return{nickname:"",message:"",messages:[]}},components:{AppHeader:i["a"],AppFooter:c["a"],CommentForm:o["a"]},computed:{},created:function(){this.getMessages()},methods:{submitContent:function(s){s.nickname=s.nickname.replace(/^\s\s*/,""),s.nickname?s.content.replace(/^\s\s*/,"")?this.postMessage(s):alert("内容不能为空"):alert("昵称不能为空")},postMessage:function(s){var t="/api/messages/";this.axios.post(t,s).then(function(s){this.messages.push(s.data)}.bind(this)).catch(function(s){s.response?alert("status: "+s.response.status+";\nstatusText: "+s.response.statusText):alert(s)}.bind(this))},getMessages:function(){var s="/api/messages/";this.axios.get(s).then(function(s){this.messages=s.data.results}.bind(this)).catch(function(s){alert(s)}.bind(this))}}},u=r,m=(e("1f13"),e("2877")),p=Object(m["a"])(u,a,n,!1,null,"5c7c16c6",null);p.options.__file="Message.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=message.1712857a.js.map