{"version":3,"sources":["webpack:///./src/page/Message.vue?514d","webpack:///./src/page/Message.vue?1dbb","webpack:///src/page/Message.vue","webpack:///./src/page/Message.vue?32cb","webpack:///./src/page/Message.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_id_5c7c16c6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_id_5c7c16c6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","messages","length","_e","_l","item","index","key","_s","nickname","content","pub_date","attrs","submit-name","on","submitContent","staticRenderFns","Messagevue_type_script_lang_js_","name","data","message","components","AppHeader","AppFooter","CommentForm","computed","created","getMessages","methods","msg","replace","postMessage","alert","url","axios","post","then","response","push","bind","catch","error","status","statusText","get","results","page_Messagevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"2GAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAsiBE,EAAG,qECAziB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAsB,CAAAF,EAAA,cAAAA,EAAA,OAA6BE,YAAA,gBAA2B,CAAAF,EAAA,WAAgBE,YAAA,QAAmB,CAAAF,EAAA,MAAWE,YAAA,SAAoB,CAAAN,EAAAO,GAAA,UAAAP,EAAAQ,SAAAC,OAAA,EAAAL,EAAA,MAAAJ,EAAAO,GAAA,cAAAP,EAAAU,KAAAV,EAAAW,GAAAX,EAAA,kBAAAY,EAAAC,GAA+H,OAAAT,EAAA,OAAiBU,IAAAD,EAAAP,YAAA,QAA6B,CAAAF,EAAA,KAAAJ,EAAAO,GAAAP,EAAAe,GAAAH,EAAAI,UAAA,OAAAZ,EAAA,KAAAJ,EAAAO,GAAAP,EAAAe,GAAAH,EAAAK,YAAAb,EAAA,KAAAJ,EAAAO,GAAA,KAAAP,EAAAe,GAAAH,EAAAM,kBAAoI,KAAAd,EAAA,gBAA2Be,MAAA,CAAOC,cAAA,MAAmBC,GAAA,CAAKC,cAAAtB,EAAAsB,iBAAmClB,EAAA,mBACxoBmB,EAAA,mDCuBAC,EAAA,CACAC,KAAA,UACAC,KAFA,WAGA,OACAV,SAAA,GACAW,QAAA,GACAnB,SAAA,KAGAoB,WAAA,CACAC,YAAA,KACAC,YAAA,KACAC,cAAA,MAEAC,SAAA,GACAC,QAfA,WAgBAhC,KAAAiC,eAEAC,QAAA,CACAb,cADA,SACAc,GACAA,EAAApB,SAAAoB,EAAApB,SAAAqB,QAAA,aACAD,EAAApB,SAIAoB,EAAAnB,QAAAoB,QAAA,aAIApC,KAAAqC,YAAAF,GAHAG,MAAA,UAJAA,MAAA,WASAD,YAbA,SAaAF,GACA,IAAAI,EAAA,iBACAvC,KAAAwC,MACAC,KAAAF,EAAAJ,GACAO,KACA,SAAAC,GACA3C,KAAAO,SAAAqC,KAAAD,EAAAlB,OACAoB,KAAA7C,OAEA8C,MACA,SAAAC,GACAA,EAAAJ,SAGAL,MACA,WACAS,EAAAJ,SAAAK,OACA,kBAEAD,EAAAJ,SAAAM,YAPAX,MAAAS,IAUAF,KAAA7C,QAGAiC,YAtCA,WAuCA,IAAAM,EAAA,iBACAvC,KAAAwC,MACAU,IAAAX,GACAG,KACA,SAAAC,GACA3C,KAAAO,SAAAoC,EAAAlB,KAAA0B,SACAN,KAAA7C,OAEA8C,MACA,SAAAC,GACAT,MAAAS,IACAF,KAAA7C,UC5FiVoD,EAAA,0BCQjVC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAtD,EACAwB,GACF,EACA,KACA,WACA,MAIA+B,EAAAG,QAAAC,OAAA,cACeC,EAAA,WAAAL","file":"static/js/message.1712857a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=5c7c16c6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=5c7c16c6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message\"},[_c('app-header'),_c('div',{staticClass:\"content wrap\"},[_c('section',{staticClass:\"page\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"说些什么\")]),(_vm.messages.length < 1)?_c('h3',[_vm._v(\"什么也没有...\")]):_vm._e(),_vm._l((_vm.messages),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('b',[_vm._v(_vm._s(item.nickname)+\"：\")]),_c('p',[_vm._v(_vm._s(item.content))]),_c('i',[_vm._v(\"——\"+_vm._s(item.pub_date))])])})],2)]),_c('comment-form',{attrs:{\"submit-name\":\"留言\"},on:{\"submitContent\":_vm.submitContent}}),_c('app-footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message\">\n    <app-header></app-header>\n    <div class=\"content wrap\">\n      <section class=\"page\">\n        <h2 class=\"title\">说些什么</h2>\n        <h3 v-if=\"messages.length < 1\">什么也没有...</h3>\n        <div class=\"item\" v-for=\"(item,index) in messages\" :key=\"index\">\n          <b>{{item.nickname}}：</b>\n          <p>{{item.content}}</p>\n          <i>——{{item.pub_date}}</i>\n        </div>\n      </section>\n    </div>\n    <comment-form submit-name=\"留言\" @submitContent=\"submitContent\"></comment-form>\n    <app-footer></app-footer>\n  </div>\n</template>\n\n<script>\nimport AppHeader from \"@/components/header/AppHeader.vue\";\nimport AppFooter from \"@/components/footer/AppFooter.vue\";\nimport CommentForm from \"@/components/CommentForm.vue\";\n\nexport default {\n  name: \"message\",\n  data() {\n    return {\n      nickname: \"\",\n      message: \"\",\n      messages: []\n    };\n  },\n  components: {\n    AppHeader,\n    AppFooter,\n    CommentForm\n  },\n  computed: {},\n  created() {\n    this.getMessages();\n  },\n  methods: {\n    submitContent(msg) {\n      msg.nickname = msg.nickname.replace(/^\\s\\s*/, \"\");\n      if (!msg.nickname) {\n        alert(\"昵称不能为空\");\n        return;\n      }\n      if (!msg.content.replace(/^\\s\\s*/, \"\")) {\n        alert(\"内容不能为空\");\n        return;\n      }\n      this.postMessage(msg);\n    },\n    postMessage(msg) {\n      let url = \"/api/messages/\";\n      this.axios\n        .post(url, msg)\n        .then(\n          function(response) {\n            this.messages.push(response.data);\n          }.bind(this)\n        )\n        .catch(\n          function(error) {\n            if (!error.response) {\n              alert(error);\n            } else {\n              alert(\n                \"status: \" +\n                  error.response.status +\n                  \";\\n\" +\n                  \"statusText: \" +\n                  error.response.statusText\n              );\n            }\n          }.bind(this)\n        );\n    },\n    getMessages() {\n      let url = \"/api/messages/\";\n      this.axios\n        .get(url)\n        .then(\n          function(response) {\n            this.messages = response.data.results;\n          }.bind(this)\n        )\n        .catch(\n          function(error) {\n            alert(error);\n          }.bind(this)\n        );\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import \"../assets/style/global\";\n.message {\n  // 撑大元素，让footer在底部\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  .content {\n    flex: 1;\n    .page {\n      width: 80%;\n      margin: 30px auto 10px auto;\n      line-height: 25px;\n      padding: 25px;\n      color: blue;\n      background-color: #f4f39e;\n      border-bottom-left-radius: 20px 500px;\n      border-bottom-right-radius: 500px 20px;\n      border-top-right-radius: 5px 100px;\n      box-shadow: 0 2px 10px 1px rgba(0, 0, 0, 0.2);\n      position: relative;\n      background: repeating-linear-gradient(\n        to bottom,\n        #f4f39e,\n        #f4f39e 24px,\n        #6ba2d8 25px\n      );\n      .item {\n        font-style: italic;\n        line-height: 25px;\n        font-size: 14px;\n        overflow: hidden;\n        // BFC清除浮动\n        p {\n          text-indent: 2em;\n        }\n        i {\n          float: right;\n          padding-right: 10px;\n        }\n      }\n      .title {\n        text-align: center;\n        font-size: 18px;\n        font-style: italic;\n        line-height: 25px;\n      }\n      h3 {\n        padding: 50px 0;\n      }\n      &::after {\n        width: 30%;\n        height: 25px;\n        content: \"留言板\";\n        font-size: 18px;\n        color: $linkColor;\n        text-align: center;\n        border: 1px solid rgba(200, 200, 200, 0.8);\n        background: rgba(254, 254, 254, 0.6);\n        box-shadow: 0px 0 3px rgba(0, 0, 0, 0.1);\n        transform: rotate(-5deg) translateX(-50%) translateY(-50%);\n        position: absolute;\n        left: 50%;\n        top: 0;\n      }\n    }\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=5c7c16c6&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=5c7c16c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c7c16c6\",\n  null\n  \n)\n\ncomponent.options.__file = \"Message.vue\"\nexport default component.exports"],"sourceRoot":""}